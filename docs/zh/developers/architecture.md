# FilFi架构介绍

FilFi是一个基于智能合约的去中心化应用平台，旨在为用户提供简单、安全、可靠的服务。下面是FilFi架构的详细介绍。

## 智能合约架构

FilFi的核心是基于智能合约的架构，它确保了所有操作的透明性和可验证性。

<!-- [![FilFi架构图](/files/filfi-design.png)](/files/filfi-design.png) -->
<a href="/files/filfi-design.png" target="_blank">
  <img src="/files/filfi-design.png" alt="架构图" />
</a>

如上图所示，FilFi的架构中包含一个关键组件：Oracle预言机。由于目前Filecoin网络的限制，无法直接从链上获取奖励和惩罚数据，因此需要通过Oracle预言机将这些数据推送给智能合约。

## Oracle预言机

Oracle预言机作为一个独立的组件，负责将线下的奖励和惩罚数据推送给智能合约。虽然这种设计会引入一定的中心化风险，但请放心，预言机的作用仅限于将奖励数据传递给合约。

为了应对FilFi可能停止运营的情况，智能合约内置了一个保底方案。当节点到期时，所有线性奖励释放完成后，合约会自动提取矿工的所有可用余额，并按照以下优先级进行分配：

1. 建设者质押币
2. 建设者收益
3. 主办人收益
4. SP质押币
5. SP收益

这种设计确保了即使在FilFi停止运营的情况下，用户的资金仍然可以按照预定的规则进行分配，保障了用户的利益。